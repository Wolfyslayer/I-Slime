<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Build Planner - Snygg Design</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto&display=swap');

  /* Grundläggande reset */
  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    font-family: 'Roboto', sans-serif;
    color: #ddd;
    min-height: 100vh;
    padding: 1rem 1.5rem;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    text-align: center;
    color: #00bfff;
    font-weight: 700;
    text-shadow:
      0 0 5px #00bfff,
      0 0 10px #00bfff,
      0 0 20px #00bfff;
    margin-bottom: 1rem;
  }

  h2 {
    font-family: 'Orbitron', sans-serif;
    color: #00d0ff;
    margin-bottom: 0.7rem;
    border-bottom: 2px solid #00d0ff;
    padding-bottom: 0.3rem;
  }

  .section {
    background: rgba(20, 40, 60, 0.8);
    padding: 1rem 1.2rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    box-shadow:
      0 0 10px rgba(0, 191, 255, 0.5),
      inset 0 0 5px rgba(0, 191, 255, 0.2);
  }

  .choices {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
  }

  .choice {
    cursor: pointer;
    border: 2.5px solid transparent;
    border-radius: 12px;
    text-align: center;
    width: 110px;
    user-select: none;
    background: rgba(255,255,255,0.05);
    transition: 
      border-color 0.3s ease, 
      box-shadow 0.3s ease,
      transform 0.2s ease;
  }

  .choice:hover {
    border-color: #00bfff;
    box-shadow: 0 0 15px #00bfff;
    transform: translateY(-5px);
  }

  .choice.selected {
    border-color: #00ffea;
    box-shadow:
      0 0 20px #00fff3,
      0 0 35px #00fff3;
    background: rgba(0, 255, 234, 0.15);
  }

  .choice.multiselect.selected {
    border-color: #1aff8c;
    box-shadow:
      0 0 20px #1aff8c,
      0 0 35px #1aff8c;
    background: rgba(26, 255, 140, 0.15);
  }

  .choice img {
    width: 100px;
    height: 100px;
    object-fit: contain;
    border-radius: 12px;
    margin-bottom: 0.4rem;
    filter: drop-shadow(0 0 3px rgba(0, 191, 255, 0.7));
    transition: filter 0.3s ease;
  }

  .choice:hover img {
    filter: drop-shadow(0 0 10px #00bfff);
  }

  .choice span {
    color: #e0f7ff;
    font-weight: 600;
    font-size: 0.9rem;
    user-select: none;
  }

  #selectedPets, #selectedSkills {
    margin-top: 0.6rem;
    font-style: italic;
    color: #a0e9ff;
    text-align: center;
    min-height: 1.2em;
  }

  label {
    display: block;
    margin-top: 0.4rem;
    color: #b3e5fc;
    font-weight: 500;
    user-select: none;
  }

  select, input[type="checkbox"], input[type="number"] {
    margin-top: 0.3rem;
    margin-right: 1rem;
    background: rgba(0, 0, 0, 0.6);
    color: #00d0ff;
    border: 1.5px solid #00bfff;
    border-radius: 6px;
    font-weight: 600;
    padding: 0.25rem 0.5rem;
    transition: border-color 0.3s ease;
  }

  select:hover, input[type="number"]:hover {
    border-color: #00fff3;
  }

  input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
  }

  input[type="number"] {
    width: 60px;
    text-align: center;
  }

  .item-container {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 14px;
    margin-bottom: 1.2rem;
    box-shadow: inset 0 0 10px #007accaa;
  }

  .item-header {
    font-weight: 700;
    font-family: 'Orbitron', sans-serif;
    color: #00e6ff;
    margin-bottom: 0.6rem;
    text-shadow:
      0 0 5px #00e6ff,
      0 0 10px #00e6ff;
  }

  .special-stats {
    display: flex;
    gap: 1.2rem;
    flex-wrap: wrap;
  }

  .stat-select {
    display: flex;
    flex-direction: column;
    width: 160px;
  }

  @media (max-width: 600px) {
    .choices {
      justify-content: center;
    }
    .choice {
      width: 90px;
    }
    .choice img {
      width: 80px;
      height: 80px;
    }
    .stat-select {
      width: 100%;
    }
  }
</style>
</head>
<body>

<h1>Build Planner</h1>

<div class="section">
  <h2>Välj Klass</h2>
  <div id="classChoices" class="choices"></div>
</div>

<div class="section" id="pathSection" style="display:none;">
  <h2>Välj Path</h2>
  <div id="pathChoices" class="choices"></div>
</div>

<div class="section" id="evoInfo" style="display:none;"></div>

<div class="section" id="petsSection" style="display:none;">
  <h2>Välj Pets (max 5)</h2>
  <div id="petChoices" class="choices"></div>
  <div id="selectedPets">Inga valda pets</div>
</div>

<div class="section" id="skillsSection" style="display:none;">
  <h2>Välj Skills (max 5)</h2>
  <div id="skillChoices" class="choices"></div>
  <div id="selectedSkills">Inga valda skills</div>
</div>

<div class="section" id="itemsSection" style="display:none;">
  <h2>Items - Välj specialstats</h2>
  <div id="itemsContainer"></div>
</div>

<script>
  const data = {
    Archer: {
      Hunter: ["Stalker", "Grand Archer", "Demon Hunter"],
      "Gun Wielder": ["Magic Gunslinger", "Gunner", "Human Weapon"]
    },
    Swordsman: {
      Knight: ["Knight Commander", "Paladin", "Knight of Light"],
      Warrior: ["Martial Artist", "Berserker", "War God"]
    },
    Mage: {
      Sage: ["Alchemist", "High Priest", "Angel of Devotion"],
      Wizard: ["Elementalist", "Sorcerer", "Magic Destroyer"]
    }
  };

  const classImages = {
    Archer: "https://i.imgur.com/tTF5mXR.png",
    Swordsman: "https://i.imgur.com/yX0T6fN.png",
    Mage: "https://i.imgur.com/fd0ZRpG.png"
  };

  const pathImages = {
    Hunter: "https://i.imgur.com/HyOtCUp.png",
    "Gun Wielder": "https://i.imgur.com/f9zJHP8.png",
    Knight: "https://i.imgur.com/ydy0q5y.png",
    Warrior: "https://i.imgur.com/15NYyAy.png",
    Sage: "https://i.imgur.com/sY9N3lc.png",
    Wizard: "https://i.imgur.com/Fgy3E8P.png"
  };

  const petsData = [
    {name:"Pet1", img:"https://i.imgur.com/qBjyigF.png"},
    {name:"Pet2", img:"https://i.imgur.com/MPcV6n5.png"},
    {name:"Pet3", img:"https://i.imgur.com/BKZAjlN.png"},
    {name:"Pet4", img:"https://i.imgur.com/YMHcEB3.png"},
    {name:"Pet5", img:"https://i.imgur.com/3EXOk7N.png"},
    {name:"Pet6", img:"https://i.imgur.com/owmP2ou.png"},
  ];

  const skillsData = [
    {name:"Skill1", img:"https://i.imgur.com/4mgxq9G.png"},
    {name:"Skill2", img:"https://i.imgur.com/7fRUWjJ.png"},
    {name:"Skill3", img:"https://i.imgur.com/FC7zZ3R.png"},
    {name:"Skill4", img:"https://i.imgur.com/0jjC9Yj.png"},
    {name:"Skill5", img:"https://i.imgur.com/2vLy0bk.png"},
    {name:"Skill6", img:"https://i.imgur.com/jXIpAtY.png"},
  ];

  const items = [
    "Weapon", "Helmet", "Mask", "Shoulder", "Chest", "Armguards", "Gloves", "Belt", "Pants", "Boots"
  ];

  const specialStats = ["Crit Rate", "Combo", "Counter", "Stun", "Dodge", "Recover", "Skill Crit Hit"];

  // State
  let selectedClass = null;
  let selectedPath = null;
  let selectedPets = [];
  let selectedSkills = [];

  // Helper for creating choice card
  function createChoice(name, imgSrc, onClick, selected = false, multiselect = false) {
    const div = document.createElement("div");
    div.className = "choice";
    if (selected) div.classList.add("selected");
    if(multiselect) div.classList.add("multiselect");
    div.title = name;

    const img = document.createElement("img");
    img.src = imgSrc;
    img.alt = name;

    const span = document.createElement("span");
    span.textContent = name;

    div.appendChild(img);
    div.appendChild(span);

    div.addEventListener("click", () => onClick(div, name));

    return div;
  }

  // Klassval
  const classChoicesDiv = document.getElementById("classChoices");
  Object.keys(data).forEach(c => {
    const card = createChoice(c, classImages[c], () => {
      selectedClass = c;
      selectedPath = null;
      document.getElementById("pathSection").style.display = "block";
      renderPaths();
      renderEvoInfo("");
      document.getElementById("petsSection").style.display = "none";
      document.getElementById("skillsSection").style.display = "none";
      document.getElementById("itemsSection").style.display = "none";
      selectedPets = [];
      selectedSkills = [];
      updateSelectedLists();
    });
    classChoicesDiv.appendChild(card);
  });

  function renderPaths() {
    const pathChoicesDiv = document.getElementById("pathChoices");
    pathChoicesDiv.innerHTML = "";
    selectedPets = [];
    selectedSkills = [];
    updateSelectedLists();
    document.getElementById("petsSection").style.display = "none";
    document.getElementById("skillsSection").style.display = "none";
    document.getElementById("itemsSection").style.display = "none";

    if(!selectedClass) return;

    const paths = Object.keys(data[selectedClass]);
    paths.forEach(p => {
      const card = createChoice(p, pathImages[p], () => {
        selectedPath = p;
        renderEvoInfo(selectedPath);
        renderPets();
        renderSkills();
        renderItems();
        document.getElementById("petsSection").style.display = "block";
        document.getElementById("skillsSection").style.display = "block";
        document.getElementById("itemsSection").style.display = "block";
      });
      pathChoicesDiv.appendChild(card);
    });
  }

  function renderEvoInfo(path) {
    const evoInfoDiv = document.getElementById("evoInfo");
    if(!path || !selectedClass) {
      evoInfoDiv.style.display = "none";
      return;
    }
    evoInfoDiv.style.display = "block";

    const evolves = data[selectedClass][path];
    evoInfoDiv.innerHTML = `<h2>Evolutioner för ${path}</h2><p>Kan utvecklas till: ${evolves.join(", ")}</p><p>Observera: Evolution sker vid uppnådd level.</p>`;
  }

  // Pets - max 5 selectable
  function renderPets() {
    const petChoicesDiv = document.getElementById("petChoices");
    petChoicesDiv.innerHTML = "";
    selectedPets = [];
    updateSelectedLists();

    petsData.forEach(pet => {
      const card = createChoice(pet.name, pet.img, (div, name) => {
        const idx = selectedPets.indexOf(name);
        if(idx === -1) {
          if(selectedPets.length < 5) {
            selectedPets.push(name);
            div.classList.add("selected");
          } else {
            alert("Max 5 pets kan väljas.");
          }
        } else {
          selectedPets.splice(idx, 1);
          div.classList.remove("selected");
        }
        updateSelectedLists();
      }, false, true);
      petChoicesDiv.appendChild(card);
    });
  }

  // Skills - max 5 selectable
  function renderSkills() {
    const skillChoicesDiv = document.getElementById("skillChoices");
    skillChoicesDiv.innerHTML = "";
    selectedSkills = [];
    updateSelectedLists();

    skillsData.forEach(skill => {
      const card = createChoice(skill.name, skill.img, (div, name) => {
        const idx = selectedSkills.indexOf(name);
        if(idx === -1) {
          if(selectedSkills.length < 5) {
            selectedSkills.push(name);
            div.classList.add("selected");
          } else {
            alert("Max 5 skills kan väljas.");
          }
        } else {
          selectedSkills.splice(idx, 1);
          div.classList.remove("selected");
        }
        updateSelectedLists();
      }, false, true);
      skillChoicesDiv.appendChild(card);
    });
  }

  // Visa valda pets och skills under sektionerna
  function updateSelectedLists() {
    document.getElementById("selectedPets").textContent = selectedPets.length ? selectedPets.join(", ") : "Inga valda pets";
    document.getElementById("selectedSkills").textContent = selectedSkills.length ? selectedSkills.join(", ") : "Inga valda skills";
  }

  // Items - special stats dropdowns och atk speed checkbox
  function renderItems() {
    const itemsContainer = document.getElementById("itemsContainer");
    itemsContainer.innerHTML = "";

    items.forEach(item => {
      const container = document.createElement("div");
      container.className = "item-container";

      const header = document.createElement("div");
      header.className = "item-header";
      header.textContent = item;

      const statsDiv = document.createElement("div");
      statsDiv.className = "special-stats";

      for(let i=1; i<=2; i++) {
        const statSelectDiv = document.createElement("div");
        statSelectDiv.className = "stat-select";

        const label = document.createElement("label");
        label.textContent = `Specialstat ${i}`;

        const select = document.createElement("select");
        select.name = `${item}-stat${i}`;

        const noneOption = document.createElement("option");
        noneOption.value = "";
        noneOption.textContent = "Ingen";
        select.appendChild(noneOption);

        specialStats.forEach(stat => {
          const option = document.createElement("option");
          option.value = stat;
          option.textContent = stat;
          select.appendChild(option);
        });

        statSelectDiv.appendChild(label);
        statSelectDiv.appendChild(select);
        statsDiv.appendChild(statSelectDiv);
      }

      const atkSpeedDiv = document.createElement("div");
      atkSpeedDiv.style.marginTop = "0.5rem";

      const atkSpeedCheckbox = document.createElement("input");
      atkSpeedCheckbox.type = "checkbox";
      atkSpeedCheckbox.name = `${item}-atkSpeed`;
      atkSpeedCheckbox.id = `${item}-atkSpeed`;

      const atkSpeedLabel = document.createElement("label");
      atkSpeedLabel.htmlFor = `${item}-atkSpeed`;
      atkSpeedLabel.textContent = "Attack Speed (siffra, ej %)";

      atkSpeedDiv.appendChild(atkSpeedCheckbox);
      atkSpeedDiv.appendChild(atkSpeedLabel);

      container.appendChild(header);
      container.appendChild(statsDiv);
      container.appendChild(atkSpeedDiv);

      itemsContainer.appendChild(container);
    });
  }
</script>

</body>
</html>
